<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Annotate somatic or germline variants output — annotate_called_variants • nfportalutils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Annotate somatic or germline variants output — annotate_called_variants"><meta name="description" content='Currently, vcf are output first and mafs appear after a subsequent workflow run,
so depending on when map_sample_output_sarek is run to create a sample_io file,
there will be just vcf files or both.
(In the future, the workflows will likely be joined so both are deposited at the same run.)
One can specify to only annotate either the "vcf" or "maf" files and create a manifest
for just those files, or use "auto" to detect the file types present in sample_io.'><meta property="og:description" content='Currently, vcf are output first and mafs appear after a subsequent workflow run,
so depending on when map_sample_output_sarek is run to create a sample_io file,
there will be just vcf files or both.
(In the future, the workflows will likely be joined so both are deposited at the same run.)
One can specify to only annotate either the "vcf" or "maf" files and create a manifest
for just those files, or use "auto" to detect the file types present in sample_io.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nfportalutils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9500</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/annotate-nf-processed-data.html">Annotating nextflow processed data</a></li>
    <li><a class="dropdown-item" href="../articles/bringing-portal-data-to-other-platforms-cbioportal.html">Bringing Portal Data to Other Platforms: cBioPortal</a></li>
    <li><a class="dropdown-item" href="../articles/revalidation-workflows.html">Revalidation workflows</a></li>
    <li><a class="dropdown-item" href="../articles/survey-public-files.html">Surveying public files in the portal</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nf-osi/nfportalutils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Annotate somatic or germline variants output</h1>
      <small class="dont-index">Source: <a href="https://github.com/nf-osi/nfportalutils/blob/develop/R/nextflow_annotation_utils.R" class="external-link"><code>R/nextflow_annotation_utils.R</code></a></small>
      <div class="d-none name"><code>annotate_called_variants.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Currently, <code>vcf</code> are output first and <code>maf</code>s appear after a subsequent workflow run,
so depending on when <code>map_sample_output_sarek</code> is run to create a <code>sample_io</code> file,
there will be just <code>vcf</code> files or both.
(In the future, the workflows will likely be joined so both are deposited at the same run.)
One can specify to only annotate either the "vcf" or "maf" files and create a manifest
for just those files, or use "auto" to detect the file types present in <code>sample_io</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">annotate_called_variants</span><span class="op">(</span></span>
<span>  <span class="va">sample_io</span>,</span>
<span>  <span class="va">workflow_ref</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"vcf"</span>, <span class="st">"maf"</span><span class="op">)</span>,</span>
<span>  template <span class="op">=</span> <span class="st">"bts:ProcessedVariantCallsTemplate"</span>,</span>
<span>  schema <span class="op">=</span></span>
<span>    <span class="st">"https://raw.githubusercontent.com/nf-osi/nf-metadata-dictionary/main/NF.jsonld"</span>,</span>
<span>  data_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auto"</span>, <span class="st">"SomaticVariants"</span>, <span class="st">"GermlineVariants"</span>,</span>
<span>    <span class="st">"AnnotatedSomaticVariants"</span>, <span class="st">"AnnotatedGermlineVariants"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sample-io">sample_io<a class="anchor" aria-label="anchor" href="#arg-sample-io"></a></dt>
<dd><p>Table mapping input to outputs, which reference output <code>.vcf.gz</code> or <code>maf</code> files.</p></dd>


<dt id="arg-workflow-ref">workflow_ref<a class="anchor" aria-label="anchor" href="#arg-workflow-ref"></a></dt>
<dd><p>Character vector with names for workflow and values as version-specific links.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>Variant format, "auto" to handle any "vcf" or "maf" files present automatically, or specify one explicitly. See details.</p></dd>


<dt id="arg-template">template<a class="anchor" aria-label="anchor" href="#arg-template"></a></dt>
<dd><p>(Optional) URI of template in data model to use, prefixed if needed.
Can specify different model/version, but in some cases may not work well.</p></dd>


<dt id="arg-schema">schema<a class="anchor" aria-label="anchor" href="#arg-schema"></a></dt>
<dd><p>Path (URL or local) to file from which schema will be read, or schema as list object.</p></dd>


<dt id="arg-data-type">data_type<a class="anchor" aria-label="anchor" href="#arg-data-type"></a></dt>
<dd><p>Variant type, use "auto" to infer from naming scheme and current NF processing SOP, or specify more explicitly.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Give verbose reports for what's happening.</p></dd>


<dt id="arg-dry-run">dry_run<a class="anchor" aria-label="anchor" href="#arg-dry-run"></a></dt>
<dd><p>Whether to apply annotations.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>maf</code> files use the same template but with different default values, such as a subclass term for <code>dataType</code>.
If in the future <code>maf</code>s require a significantly different template,
then this should be factored out into a separate annotation function.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Allaway, Anh Nguyet Vu.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

