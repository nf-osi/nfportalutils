<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Organize variant call files from Nextflow Sarek into 3-4 datasets,
grouping files by variant type and workflow with titles having the format:
"type Genomic Variants - workflow Pipeline", e.g. "Somatic Genomic Variants - Strelka Pipeline".
As you can see, this assumes that you want to create datasets that segregate Somatic and Germline calls.
This makes sense for NF because Germline calls can be treated differently.
This uses latest version of all files and creates a Draft version of the dataset.'><title>Create datasets for Sarek-called somatic or germline variants results — nf_sarek_datasets • nfportalutils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create datasets for Sarek-called somatic or germline variants results — nf_sarek_datasets"><meta property="og:description" content='Organize variant call files from Nextflow Sarek into 3-4 datasets,
grouping files by variant type and workflow with titles having the format:
"type Genomic Variants - workflow Pipeline", e.g. "Somatic Genomic Variants - Strelka Pipeline".
As you can see, this assumes that you want to create datasets that segregate Somatic and Germline calls.
This makes sense for NF because Germline calls can be treated differently.
This uses latest version of all files and creates a Draft version of the dataset.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nfportalutils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9500</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/access-utilities.html">Access utilities</a>
    <a class="dropdown-item" href="../articles/annotate-nf-processed-data.html">Annotating nextflow processed data</a>
    <a class="dropdown-item" href="../articles/bringing-portal-data-to-other-platforms-cbioportal.html">Bringing Portal Data to Other Platforms: cBioPortal</a>
    <a class="dropdown-item" href="../articles/package-installation.html">Package Installation</a>
    <a class="dropdown-item" href="../articles/portal-tables-utils.html">Portal tables utils</a>
    <a class="dropdown-item" href="../articles/revalidation-workflows.html">Revalidation workflows</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nf-osi/nfportalutils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Create datasets for Sarek-called somatic or germline variants results</h1>
      <small class="dont-index">Source: <a href="https://github.com/nf-osi/nfportalutils/blob/HEAD/R/datasets_nf.R" class="external-link"><code>R/datasets_nf.R</code></a></small>
      <div class="d-none name"><code>nf_sarek_datasets.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Organize variant call files from Nextflow Sarek into 3-4 datasets,
grouping files by variant type and workflow with titles having the format:
"type Genomic Variants - workflow Pipeline", e.g. "Somatic Genomic Variants - Strelka Pipeline".
As you can see, this assumes that you want to create datasets that segregate Somatic and Germline calls.
This makes sense for NF because Germline calls can be treated differently.
This uses latest version of all files and creates a Draft version of the dataset.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nf_sarek_datasets</span><span class="op">(</span></span>
<span>  <span class="va">output_map</span>,</span>
<span>  <span class="va">parent</span>,</span>
<span>  workflow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FreeBayes"</span>, <span class="st">"Mutect2"</span>, <span class="st">"Strelka"</span>, <span class="st">"DeepVariant"</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dry_run <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>output_map</dt>
<dd><p>The <code>data.table</code> returned from <code>map_sample_output_sarek</code>. See details for alternatives.</p></dd>


<dt>parent</dt>
<dd><p>Synapse id of parent project where the dataset will live.</p></dd>


<dt>workflow</dt>
<dd><p>One of workflows used.</p></dd>


<dt>verbose</dt>
<dd><p>Optional, whether to be verbose -- defaults to TRUE.</p></dd>


<dt>dry_run</dt>
<dd><p>If TRUE, don't actually store dataset, just return the data object for inspection or further modification.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of dataset objects.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Since we basically just need the syn entity id, variant type, and workflow to group the files.
Instead of getting this info through running <code>map_*</code> as in the example,
you may prefer using a fileview, in which case you just need to download a table from a fileview
that has <code>id</code> =&gt; <code>output_id</code> + the <code>dataType</code> and <code>workflow</code> annotations.
The fileview can be used <em>after</em> the files are annotated. If you want to create datasets <em>before</em>
files are annotated, then you have to use <code>map_*</code>.</p>
<p>Finally, datasets cannot use the same name if stored in the same project,
so if there are multiple batches, the names will have to be made unique by adding
the batch number, source data id, processing date, or whatever makes sense.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">syn_out</span> <span class="op">&lt;-</span> <span class="st">"syn26648589"</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="map_sample_output_sarek.html">map_sample_output_sarek</a></span><span class="op">(</span><span class="va">syn_out</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu">nf_sarek_datasets</span><span class="op">(</span><span class="va">m</span>, parent <span class="op">=</span> <span class="st">"syn26462036"</span>, dry_run <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> <span class="co"># use a test project</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert Allaway, Anh Nguyet Vu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

